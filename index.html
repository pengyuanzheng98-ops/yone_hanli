<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ„ éŸ©è€é­”çš„ç¥ç¦</title>
    <style>
        /* ä½¿ç”¨é»‘è‰²èƒŒæ™¯ï¼Œå¢åŠ å†¬æ—¥æ°›å›´ */
        body {
            background-color: #050505;
            color: #10ff10;
            font-family: "Courier New", Courier, monospace; /* å¿…é¡»ä½¿ç”¨ç­‰å®½å­—ä½“ */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        /* æ ¸å¿ƒï¼šç¡®ä¿æ¯ä¸€è¡Œå­—ç¬¦éƒ½ä¸¥æ ¼å±…ä¸­ä¸”ç­‰å®½ */
        #tree-wrapper {
            text-align: center;
            line-height: 1.2;
            font-size: 16px;
            font-weight: bold;
            white-space: pre; /* ä¿ç•™ç©ºæ ¼ */
            cursor: default;
            user-select: none;
        }

        .star { color: #fff700; text-shadow: 0 0 10px #fff700; }
        .light { animation: blink 0.8s infinite; }
        @keyframes blink {
            50% { opacity: 0.3; }
        }

        /* ç¥ç¦è¯­åŒºåŸŸæ ·å¼ */
        #message-area {
            margin-top: 30px;
            text-align: center;
            padding: 0 20px;
        }
        #greeting {
            color: #ffffff;
            font-size: 1.2rem;
            text-shadow: 0 0 8px #ff0000;
            min-height: 1.5em;
        }
        #signature {
            color: #888;
            font-size: 0.9rem;
            margin-top: 10px;
        }
        
        /* å¢åŠ é£˜é›ªèŠ±èƒŒæ™¯ */
        .snowflake {
            position: absolute;
            top: -10px;
            color: white;
            font-size: 1em;
            z-index: -1;
            animation: fall linear;
        }
        @keyframes fall {
            to { transform: translateY(105vh); }
        }
    </style>
</head>
<body>

    <div id="tree-wrapper"></div>

    <div id="message-area">
        <div id="greeting"></div>
        <div id="signature">â€”â€” æ¥è‡ªéŸ©è€é­”çš„ç¥ç¦ â€”â€”</div>
    </div>

    <script>
        const treeContainer = document.getElementById('tree-wrapper');
        const greetingDisplay = document.getElementById('greeting');
        
        const wishes = [
            "æ„¿ä½ çš„åœ£è¯å……æ»¡æ¸©é¦¨ä¸å¥‡è¿¹ï¼",
            "å¹³å®‰å¤œï¼Œæ„¿ä½ ä¸€ç”Ÿå¹³å®‰å–œä¹ï¼",
            "æ„¿å¯’å†·çš„å†¬æ—¥é‡Œï¼Œä½ æ€»æœ‰æ¸©æš–ç›¸éšã€‚",
            "åœ£è¯å¿«ä¹ï¼æ‰€æœ‰çš„å¥½è¿éƒ½å¥”å‘ä½ ã€‚",
            "æ„¿ä½ æ˜æœ—å¤§èƒ†ï¼Œæ°¸è¿œçƒ­æ³ªç›ˆçœ¶ã€‚",
            "ç¥ä½ æ‹¥æœ‰ä¸€ä¸ªå‘å…‰çš„åœ£è¯èŠ‚ï¼"
        ];

        // ç”Ÿæˆåœ£è¯æ ‘é€»è¾‘
        function buildTree() {
            const height = 16;
            let treeHTML = "";

            // 1. é¡¶éƒ¨çš„æ˜Ÿæ˜Ÿ
            treeHTML += '<span class="star">â˜…</span>\n';

            // 2. æ ‘ä½“å±‚
            for (let i = 1; i <= height; i++) {
                let row = "";
                // è®¡ç®—æ¯ä¸€è¡Œåº”è¯¥æœ‰çš„æ˜Ÿå·æ•°é‡ (1, 3, 5, 7...)
                let starsCount = 2 * i - 1;
                
                for (let j = 0; j < starsCount; j++) {
                    let rand = Math.random();
                    if (rand > 0.9) {
                        row += '<span class="light" style="color:red">o</span>';
                    } else if (rand > 0.8) {
                        row += '<span class="light" style="color:cyan">i</span>';
                    } else if (rand > 0.7) {
                        row += '<span class="light" style="color:orange">@</span>';
                    } else {
                        row += "*";
                    }
                }
                treeHTML += row + "\n";
            }

            // 3. æ ‘æ ¹ (ç¡®ä¿ç»å¯¹å±…ä¸­)
            // æ ‘æ ¹å®½åº¦å›ºå®šä¸º3ä¸ªå­—ç¬¦ï¼Œæ— è®ºæ ‘å¤šå¤§ï¼Œå®ƒéƒ½åº”è¯¥åœ¨ä¸­å¿ƒ
            const trunk = "MMMMM";
            treeHTML += trunk + "\n";
            treeHTML += trunk + "\n";

            treeContainer.innerHTML = treeHTML;
        }

        // éšæœºç¥ç¦è¯­
        function showRandomWish() {
            greetingDisplay.innerText = wishes[Math.floor(Math.random() * wishes.length)];
        }

        // ç®€å•çš„é›ªèŠ±æ•ˆæœ
        function createSnow() {
            const snow = document.createElement('div');
            snow.innerHTML = "â„";
            snow.className = "snowflake";
            snow.style.left = Math.random() * 100 + "vw";
            snow.style.animationDuration = Math.random() * 3 + 2 + "s";
            snow.style.opacity = Math.random();
            document.body.appendChild(snow);
            setTimeout(() => snow.remove(), 5000);
        }

        // åˆå§‹åŒ–
        setInterval(buildTree, 600); // é—ªçƒæ•ˆæœ
        setInterval(createSnow, 200); // ä¸‹é›ªæ•ˆæœ
        showRandomWish();
        buildTree();
    </script>
</body>
</html>
